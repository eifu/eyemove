<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Visualization</title>
  <script src="http://d3js.org/d3.v3.min.js"></script>
  <style>
  </style>
</head>
<body>
<div id="x_value"></div>
<script>
var margin = {top:0, right:0,bottom:20, left:50},
    width = 700,
    height = 700,
    barPadding = 1,
    label_index=0,
    diff = 0;


var xScale = d3.scale.linear()
.range([0, width]);

var yScale = d3.scale.linear()
.range([0, height]);

var valueline = d3.svg.line()
    .x(function(d) { return xScale(d.id); })
    .y(function(d) { return yScale(d.X); });

var svg = d3.select("#x_value")
              .append("svg")
              .attr("width", width)
              .attr("height", height);

d3.json("data.json", function(error, data) {
  if (error) throw error;

  var data_foruse = [];
  
  data.forEach(function(d){
    d_c = d["MyCircle"];
    for (i in d_c){
      data_foruse.push({
        X: +d_c[i].X,
        Y: +d_c[i].Y,
        R: +d_c[i].R,
        id: d["MyName"]
      })
    }
  });

  console.log(data_foruse);

  xScale.domain([0, d3.max(data_foruse, function(d){return d.id})])
  yScale.domain([0, d3.max(data_foruse, function(d) { return d.X; })]);


  svg.selectAll(".dot")
  .data(data_foruse)
  .enter()
  .append("circle")
        .attr("class", "dot")
        .attr("r", 5)
        .attr("cx", function(d){return xScale(d.id)})
        .attr("cy", function(d){return yScale(d.X)})
        .attr("fill", function(d){return "rgb(161,190,230)";})
  .on("mouseover", function(d){
    d3.select(this)
      .attr("r", 10)
      .attr("fill", function(d){return  "rgb(50,124,203)";});
  })
  .on("mouseout", function(d){
    d3.select(this)
      .attr("r", 5)
      .attr("fill", function(d){return "rgb(161,190,230)";})
  })



  });


</script>


</body>
</html>
